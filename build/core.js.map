{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/core.js","webpack:///external \"crypto\"","webpack:///./src/utils.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","w","s","u","suitNames","keys","spade","heart","diamond","club","nbSuits","len","totalCards","memoize","pick","suitCode","compose","toHex","add","suitPrefix","prefix","cardCode","suit","prefixValue","cardStr","codeStr","hexToInt","newCard","idx","trunc","code","str","isNotCaptain","isNot","attr","removeCaptains","filter","newDeck","enough","is","recur","deck","arguments","length","undefined","append","require","_crypto","log","console","bind","String","fromCodePoint","Math","randInt","max","floor","random","randIntGen","join","fixed","obj","map","fn","arr","char","first","tail","slice","toInt","num","toString","base","parseInt","expected","x","apply","v","concat","_toConsumableArray","_len","fns","Array","_key","_len2","initial","_key2","reduceRight","result","negate","randPermutor","initialArr","forceOne","randIdx","permut","_ref","j","tmp","perm","hasher","shuffler","nbPermutations","forcePermut","shuffled","perms","shifter","rest","elem","algo","format","data","createHash","update","digest","mem","hash","arg","key","_typeof","JSON","stringify","keyOf"],"mappings":"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","file":"core.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading wasm modules\n \tvar installedWasmModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// object with all compiled WebAssembly.Modules\n \t__webpack_require__.w = {};\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","'use strict'\n\nimport * as u from './utils'\n\n// constants\n/* istanbul ignore next */\nconst suits = { spade: 0, heart: 1, diamond: 2, club: 3 }\n/* istanbul ignore next */\nconst suitNames = u.keys(suits)\n/* istanbul ignore next */\nconst nbSuits = u.len(suitNames)\n/* istanbul ignore next */\nconst suitName = u.memoize(u.pick(suitNames))\n/* istanbul ignore next */\nconst suitNbCards = 14\n/* istanbul ignore next */\nconst totalCards = nbSuits * suitNbCards\n/* istanbul ignore next */\nconst uCardPrefix = '1f0'\n\nexport const suitCode = u.memoize(u.compose(u.toHex, u.add(10)))\nexport const suitPrefix = u.memoize(u.compose(u.prefix(uCardPrefix), suitCode))\n\nexport const cardCode = u.memoize(suit => {\n  const prefixValue = u.memoize(u.compose(u.prefix, suitPrefix))(suit)\n  return u.memoize(u.compose(prefixValue, u.toHex))\n})\nexport const cardStr = u.memoize(u.compose(u.codeStr, u.hexToInt))\n\nexport const newCard = u.memoize(idx => {\n  const suit = u.trunc(idx / suitNbCards)\n  const value = u.add(1)(idx % suitNbCards)\n  const code = cardCode(suit)(value)\n  const str = cardStr(code)\n  return { suit, value, code, str }\n})\n\nexport const isNotCaptain = u.compose(u.isNot(12), u.attr('value'))\nexport const removeCaptains = u.filter(isNotCaptain)\n\nexport const newDeck = () => {\n  const enough = u.compose(u.is(totalCards), u.len)\n  const recur = (deck = []) => enough(deck) ? removeCaptains(deck)\n    : recur(u.append(deck, newCard(u.len(deck))))\n  return recur()\n}\n\n// optional\n//const pickCardsStr = u.map(u.attr('str'))\n//const deckStr = u.compose(u.join(''), pickCardsStr)\n","module.exports = require(\"crypto\");","'use strict'\n\nimport { createHash } from 'crypto'\n\n// some aliases\n/* istanbul ignore next */\nexport const log = console.log.bind(console)\n/* istanbul ignore next */\nexport const codeStr = String.fromCodePoint.bind(String)\n/* istanbul ignore next */\nexport const trunc = Math.trunc.bind(Math)\n\n/* istanbul ignore next */\nexport const randInt = max => Math.floor(Math.random() * max)\n\n/* istanbul ignore next */\nexport const randIntGen = max => () => randInt(max)\n\n// some little functional shortcuts\nexport const fixed = value => () => value\nexport const attr = name => obj => obj[name]\nexport const map = fn => arr => arr.map(fn)\nexport const filter = fn => arr => arr.filter(fn)\nexport const join = char => arr => arr.join(char)\nexport const keys = obj => Object.keys(obj)\nexport const len = arr => arr.length\nexport const first = arr => arr[0]\nexport const tail = arr => arr.slice(1)\nexport const pick = arr => idx => arr[idx]\nexport const toHex = num => num.toString(16)\nexport const toInt = base => str => parseInt(str, base)\nexport const is = expected => value => value === expected\nexport const add = n => x => x + n\nexport const prefix = p => str => join('')([p, str])\nexport const append = (arr, v) => [...arr, v]\nexport const apply = fn => (...args) => fn(...args)\n\nexport const hexToInt = toInt(16)\n\n// returns a composition function\nexport const compose = (...fns) =>\n  (...initial) =>\n    first(fns.reduceRight((result, fn) => [fn(...result)], initial))\n\n// returns a function that negates fn\nexport const negate = fn => (...args) => !(apply(fn)(...args))\n\nexport const isNot = compose(negate, is)\n\n// returns a function that randomly permut two values into the array\n// does not alterate the initial array\nexport const randPermutor = (initialArr, forceOne = true) => {\n  const randIdx = randIntGen(len(initialArr))\n  return function permut(arr = initialArr) {\n    const [i, j] = [randIdx(), randIdx()]\n    if (i === j && forceOne) {\n      return permut(arr)\n    }\n    const tmp = arr[i]\n    const perm = [...arr]\n    perm[i] = perm[j]\n    perm[j] = tmp\n    return perm\n  }\n}\n\n// returns a function that shuffles an array by making permutations\n// does not alterate the initial array\nexport const shuffler = (nbPermutations = null, forcePermut = true) => arr => {\n  const enough = is(nbPermutations || arr.length * 2)\n  const permut = randPermutor(arr, forcePermut)\n  const recur = (shuffled = []) =>\n    (perms = 0) => enough(perms) ? shuffled : recur(permut(shuffled))(add(1)(perms))\n  return recur([...arr])()\n}\n\n// returns a function that shift a value from an array\n// does not alterate the initial array\nexport const shifter = arr => {\n  let rest = [...arr]\n  const next = () => {\n    const elem = first(rest)\n    rest = tail(rest)\n    return { elem, rest: [...rest] }\n  }\n  return () => rest.length ? next()\n    : { elem: null, rest: [] }\n}\n\n// returns a simple hasher\nexport const hasher = (algo = 'md5', format = 'hex') =>\n  data => createHash(algo).update(data).digest(format)\n\n// optimizes execution time for functions\n// with only one parameter (ariety)\n// I've made the choice to not memoize by default all basic functions\n// I leave the choice to the developer\nexport const memoize = fn => {\n  const mem = {}\n  const hash = hasher()\n  const keyOf = arg => typeof arg !== 'object' ? arg\n    : hash(JSON.stringify(arg))\n  return arg => {\n    const key = keyOf(arg)\n    if (!mem[key]) {\n      mem[key] = fn(arg)\n    }\n    return mem[key]\n  }\n}\n"],"sourceRoot":""}